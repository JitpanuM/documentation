# Signal {#node-type-signal}

The @ref node-type-signal node-type is a simple signal generator which can be used to generate sine, square, ramp, triangle or random signals at user definable frequencies, rates, amplitudes.

Most commonly it is used for testing when no real simulation data is available.

**Note:** There is also the `villas-signal` tool which has a similar purpose.

# Prerequisites {#node-prereq-signal}

This node-type does not have any special library dependencies. It is always available.

# Implementation {#node-implementation-signal}

The source code of the node-type is available here:
https://git.rwth-aachen.de/acs/public/villas/VILLASnode/blob/develop/lib/nodes/signal_generator.c


# Configuration {#node-config-signal}

## signal (string: "random" | "sine" | "square" | "triangle" | "ramp" | "counter" | "contant" | "mixed") {#node-config-file-signal}

The type of signal which should be generated:

- `random`: a random walk with normal distributed step sizes will be generated.
- `sine`: a sine signal will be generated.
- `square`: a square / rectangle wave will be generated.
- `triangle`: a triangle wave will be generated.
- `ramp`: the generator will produce a ramp signal in the interval `[ 0, 1 / f ]`.
- `counter`: increasing integer counter is generated.
- `constant`: a constant value generated.
- `mixed`: the signals of of each sample are generated by cycling over all remaing signal types.

## values (integer) = 1 {#node-config-signal-values}

The number of signals which each of the generated samples should contain.

## rate (integer) = 10 {#node-config-signal-rate}

The rate at which sample should be generated by the node.

## amplitude (float) = 1.0 {#node-config-signal-amplitude}

The amplitude of the signal when @ref node-config-signal is one of `sine`, `square` or `triangle`.

## frequency (float) = 1.0 {#node-config-signal-frequency}

The frequency of the signal when @ref node-config-signal is one of `sine`, `square`, `triangle` or `ramp`.

## stddev (float) = 0.2 {#node-config-signal-stddev}

The standard deviation of the normal distributed steps if @ref node-config-signal is `random`.

## offset (float) = 0.0 {#node-config-signal-offset}

Adds a constant offset to each of the generated signals.

## limit (integer) = -1 {#node-config-signal-limit}

Limit the number of generated output samples by this node-type.
A negative number disables the limitation.

## realtime (boolean) = true {#node-config-signal-realtime}

Wait `1 / rate` seconds between emitting each sample.

## missed_steps (boolean) = true {#node-config-siganl-node_missed_steps}

If `true`, the @ref node-type-signal node-type will count missed steps and warn the user during every iteration about missed steps. Especially at high rates, it can be beneficial for performance to set this flag to `false`. Warnings would namely cause system calls which will slow the node down even more, and thus cause even more missed steps.

## Example

```
nodes = {
	signal_node = {
		type = "signal",

		signal = "sine",		# One of "sine", "square", "ramp", "triangle", "random", "mixed"
		values = 4,			# Number of values per sample
		amplitude = 2.3,		# Amplitude of generated signals
		frequency = 10,			# Frequency of generated signals
		stddev = 2,			# Standard deviation of random signals (normal distributed)
		rate = 10.0,			# Sample rate
		offset = 1.0,			# Constant offset
		realtime = true,		# Wait between emitting each sample
		limit = 1000,			# Only emit 1000 samples, then stop
		monitor_missed = true		# Count and warn about missed steps
	},
}
```
