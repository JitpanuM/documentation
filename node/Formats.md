# IO Formats {#node-formats}

Some of the VILLASnode @ref node-types are transports which can exchange arbitrary payloads.
Examples for these node-types are: @ref node-type-mqtt, @ref node-type-amqp and @ref node-type-socket.

The format of the payload for these node-types is configurable.
New formats can be added via plugins.

Currently, the following formats are supported (or planned):

| Type             | Description                                      | Status  | Specification |
| :--              | :--                                              | :--     | |
| `json`           | Javascript Object Notation                       | stable  | http://json.org |
| `csv`            | Comma/Tabulator-separated values                 | stable  | |
| `raw`            | RAW/Binary data                                  | stable  | |
| `villas.human`   | Custom human-readable format for VILLASframework | stable  | |
| `villas.binary`  | Custom binary format for VILLASframework         | stable  | |
| `protobuf`       | Googles Protobuf                                 | stable  | https://developers.google.com/protocol-buffers |
| `hdf5`           | Hierarchical Data Format                         | planned | http://hdfgroup.org |
| `bson`           | Binary Javascript Object Notation                | planned | http://bsonspec.org |

## Custom VILLAS formats

### Human readable (villas.human) {#node-format-villas-human}

This is a simple human-readable format commonly used for logging or debugging:
The format is similiar to a conventional CSV (comma seperated values) file.
Every line in a file correspondents to a message / sample of simulation data.
The columns of a line are seperated by whitespaces (tabs or spaces).
The columns are defined as follows:

    seconds.nanoseconds+offset(sequenceno)	value0 value1 ... valueN

 1. The first column contains a timestamp which is composed of up to 4 parts:
     - Number of seconds after 1970-01-01 00:00:00 UTC
     - A dot: '.'
     - Number of nano seconds of the current second (optional)
     - An offset between the point in time when a message was sent and received (optional)
     - The sequence number of the message (optional)
     
     A valid timestamp can be generated by the following Unix command: `date +%s.%N`.
     *Important:* The second field is not the fractional part of the second!!!

 2. Maximum `MSG_VALUES` floating point values per sample. The values are seperated by whitespaces as well.

#### Example

This example shows a dump with three values per sample:

    1438959964.162102394(6)	3.489760	-1.882725	0.860070
    1438959964.261677582(7)	2.375948	-2.204084	0.907518
    1438959964.361622787(8)	3.620115	-1.359236	-0.622333
    1438959964.461907066(9)	5.844254	-0.966527	-0.628751
    1438959964.561499526(10)	6.317059	-1.716363	0.351925
    1438959964.661578339(11)	6.471288	-0.159862	0.123948
    1438959964.761956859(12)	7.365932	-1.488268	-0.780568

### Binary packet format {#node-format-villas-binary}

In constrast to the human format, this binary format is space efficient and commonly used for network communication.
